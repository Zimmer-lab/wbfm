# Default parameters for creating a new project
# Do not edit!

self_path: 3-tracking/tracking_config.yaml # For programmatic updates

#########################
# Producing training data
#########################
# Which frames have enough tracklets to be used for DLC later
training_data_3d:
  num_training_frames: 30 # CHANGE ME; trade-off between number of neurons and number of frames
  which_frames: null # To be calculated

# Translating between 3d annotations and stack of 2d
training_data_2d:
  num_crop_slices: 5 # CHANGE ME; z-depth of each mini-max project
  all_center_slices: [10, 15, 20] # CHANGE ME
  max_z_dist_for_traces: 2 # CHANGE ME z-dist for neuron centroids
  is_color: true # CHANGE ME to use z information as color for the DLC training videos

#########################
# Stacked DeepLabCut
#########################
dlc_projects:
  all_configs: null # See 3a-initialize_dlc_stack.py

final_3d_tracks_df: null # See 3c-make_full_tracks.py

final_3d_tracks:
  max_dist: 5.0 # CHANGE ME
  max_dist_to_segmentation: 20.0 # CHANGE ME
  use_filtered: False # See postprocessing/3b+filter_dlc_predictions

final_3d_postprocessing:
  max_dist: 5.0
  min_overlap_dlc_and_tracklet: 5
  min_dlc_confidence: null
  rename_neurons: true
  output_df_fname: 3-tracking/postprocessing/combined_3d_tracks.h5

leifer_params:
  match_confidence_threshold: 0.2
  output_df_fname: 3-tracking/postprocessing/leifer_tracks.h5

use_pretrained_dlc: true

pose_config_updates:
  rotation: 180
  multi_step:
    - - 0.0005
      - 10000
    - - 0.0001
      - 20000
    - - 0.00005
      - 50000
    - - 0.00001
      - 100000
  pos_dist_thresh: 9
